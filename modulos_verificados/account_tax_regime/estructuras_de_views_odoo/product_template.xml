<form string="Producto" name="Product Template">
                <header>
                        <button string="Actualizar cantidad " type="object" name="action_update_quantity_on_hand" invisible="not is_storable"/>
                        <button string="Reabastecer" type="action" name="429" context="{'default_product_tmpl_id': id}" invisible="type != 'consu'"/>
                    <button string="Imprimir etiquetas" type="object" name="action_open_label_layout" invisible="type == 'service'"/>
                </header>
                <sheet name="product_form">
                    <field name="product_variant_count" invisible="1"/>
                <field name="service_type" widget="radio" invisible="True"/>
                <field name="visible_expense_policy" invisible="1"/>
                    <field name="is_product_variant" invisible="1"/>
                    <field name="attribute_line_ids" invisible="1" on_change="1"/>
                    <field name="company_id" invisible="1" on_change="1" can_create="True" can_write="True"/>
                    <field name="fiscal_country_codes" invisible="1"/>
                    <div class="oe_button_box" name="button_box">
                        <!-- Dummy tag for organizing buttons, using position='replace' when inheriting -->
                        <span id="button_website" invisible="1"/>
                <field name="tracking" invisible="1" on_change="1"/>
                            <field name="show_on_hand_qty_status_button" invisible="1"/>
                            <field name="show_forecasted_qty_status_button" invisible="1"/>
                            <button type="object" name="action_update_quantity_on_hand" invisible="not show_on_hand_qty_status_button" class="oe_stat_button" icon="fa-cubes">
                                <div class="o_field_widget o_stat_info">
                                    <span class="o_stat_value d-flex gap-1">
                                        <field name="qty_available" nolabel="1" class="oe_inline"/>
                                        <field name="uom_name" class="oe_inline"/>
                                    </span>
                                    <span class="o_stat_text">Disponible</span>
                                </div>
                            </button>
                            <button type="object" name="action_product_tmpl_forecast_report" invisible="not show_forecasted_qty_status_button" context="{'default_product_tmpl_id': id}" class="oe_stat_button" icon="fa-area-chart">
                                <div class="o_field_widget o_stat_info">
                                    <span class="o_stat_value d-flex gap-1">
                                        <field name="virtual_available" nolabel="1" class="oe_inline"/>
                                        <field name="uom_name" class="oe_inline"/>
                                    </span>
                                    <span class="o_stat_text">Pronosticado</span>
                                </div>
                            </button>
                        
                        <button class="oe_stat_button" name="action_open_documents" type="object" icon="fa-file-text-o">
                            <field string="Documentos" name="product_document_count" widget="statinfo"/>
                        </button>
                <button class="oe_stat_button" name="action_view_sales" type="object" icon="fa-signal" help="Vendido en los últimos 365 días" invisible="not sale_ok">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_value d-flex gap-1">
                            <field name="sales_count" widget="statinfo" nolabel="1" class="oe_inline"/>
                            <field name="uom_name" class="oe_inline"/>
                        </span>
                        <span class="o_stat_text">Vendido</span>
                    </div>
                </button>
                        <button type="object" name="action_view_orderpoints" invisible="not is_storable or nbr_reordering_rules != 1" class="oe_stat_button" icon="fa-refresh">
                                <div class="d-flex flex-column">
                                    <div class="o_field_widget o_stat_info align-items-baseline flex-row gap-1 me-1">
                                        <span class="o_stat_text">Min:</span>
                                        <span class="o_stat_value"><field name="reordering_min_qty"/></span>
                                    </div>
                                    <div class="o_field_widget o_stat_info align-items-baseline flex-row gap-1 me-1">
                                        <span class="o_stat_text">Máx:</span>
                                        <span class="o_stat_value"><field name="reordering_max_qty"/></span>
                                    </div>
                                </div>
                            </button>
                            <button type="object" name="action_view_orderpoints" invisible="not is_storable or nbr_reordering_rules == 1" class="oe_stat_button" icon="fa-refresh">
                                <field name="nbr_reordering_rules" widget="statinfo"/>
                            </button>
                            <button type="object" name="action_view_stock_move_lines" invisible="type != 'consu'" class="oe_stat_button" icon="fa-exchange">
                                <div class="d-flex flex-column">
                                    <div class="o_field_widget o_stat_info align-items-baseline flex-row gap-1 me-1">
                                        <span class="o_stat_text">Entrada:</span>
                                        <span class="o_stat_value"><field name="nbr_moves_in"/></span>
                                    </div>
                                    <div class="o_field_widget o_stat_info align-items-baseline flex-row gap-1 me-1">
                                        <span class="o_stat_text">Salida:</span>
                                        <span class="o_stat_value"><field name="nbr_moves_out"/></span>
                                    </div>
                                </div>
                            </button>
                            </div>
                    <widget name="web_ribbon" title="Archivado" bg_color="text-bg-danger" invisible="active"/>
                    <field name="id" invisible="True"/>
                    <field name="image_1920" widget="image" class="oe_avatar" options="{'convert_to_webp': True, 'preview_image': 'image_128'}"/>
                    <div class="oe_title">
                        <label for="name" string="Producto"/>
                        <h1>
                            <div class="d-flex">
                                <field name="is_favorite" widget="boolean_favorite" class="me-3" nolabel="1"/>
                                <field class="text-break" name="name" options="{'line_breaks': False}" widget="text" placeholder="Por ejemplo, hamburguesa de queso"/>
                            </div>
                        </h1>
                    </div>
                    <div name="options">
                        <span class="d-inline-flex">
                            <field name="sale_ok" on_change="1"/>
                            <label for="sale_ok"/>
                        </span>
                    <span class="d-inline-flex" invisible="type == 'combo'">
                        <field name="purchase_ok" on_change="1"/>
                        <label for="purchase_ok"/>
                    </span>
                    </div>
                    <notebook>
                        <page string="Información general" name="general_information">
                            <group>
                                <group name="group_general">
                                    <field name="active" invisible="1"/>
                                    <field name="type" widget="radio" options="{'horizontal': True}" on_change="1"/>
                    <label for="is_storable" class="oe_inline" invisible="type != 'consu'"/>
                    <div class="o_row w-100" invisible="type != 'consu'">
                        <field name="is_storable" on_change="1"/>
                        </div>
                <field name="invoice_policy" required="1" invisible="not sale_ok or type == 'combo'" on_change="1"/>
                                    <field name="combo_ids" widget="many2many_tags" placeholder="Por ejemplo, Entrada - Plato fuerte - Postre" invisible="type != 'combo'" options="{                                             'no_quick_create': True,                                             'edit_tags': True,                                         }" can_create="True" can_write="True"/>
                                    <field name="service_tracking" invisible="(1 or type != 'service') or (not sale_ok)" on_change="1"/>
                                    <field name="product_tooltip" class="fst-italic text-muted" string="" invisible="not product_tooltip"/>
                    <field name="lot_valuated" invisible="tracking == 'none'" widget="confirm_boolean"/>
                                </group>
                                <group name="group_standard_price">
                                    <label for="list_price"/>
                                    <div name="list_price_uom">
                                        <field name="list_price" class="oe_inline" widget="monetary" options="{'currency_field': 'currency_id', 'field_digits': True}" on_change="1"/>
                                        </div>
                    <label for="taxes_id" invisible="type == 'combo'"/>
                    <div name="taxes_div" class="o_row" invisible="type == 'combo'">
                        <field name="taxes_id" widget="many2many_tags" class="oe_inline" context="{                                 'default_type_tax_use': 'sale',                                 'search_default_sale': 1,                                 'search_default_service': type == 'service',                                 'search_default_goods': type == 'consu',                             }" on_change="1" can_create="True" can_write="True"/>
                        <field name="tax_string" class="oe_inline"/>
                    </div>

                                    <!--
                                        `id` condition to prevent invisibility on new products
                                        when `product_variant_count` is 0.
                                        `product_variant_count != 1` to handle cases with dynamic
                                        / multiple variants since id will be set after saving.
                                        #TODO : revert this and create a compute field in master
                                        to ensure invisivility for dynamic variants only.
                                    -->
                                    <label for="standard_price" invisible="(id and product_variant_count != 1                                                     and not is_product_variant) or type == 'combo'" id="standard_price_label"/>
                                    <div name="standard_price_uom" invisible="(id and product_variant_count != 1                                                     and not is_product_variant) or type == 'combo'">
                                        <field name="standard_price" class="oe_inline" widget="monetary" options="{                                                 'currency_field': 'cost_currency_id',                                                 'field_digits': True,                                             }" on_change="1"/>
                                        </div>
                    <field name="supplier_taxes_id" invisible="not purchase_ok or type == 'combo'" widget="many2many_tags" context="{                             'default_type_tax_use':'purchase',                             'search_default_purchase': 1,                             'search_default_service': type == 'service',                             'search_default_goods': type == 'consu',                         }" can_create="True" can_write="True"/>
                                    <field name="categ_id" string="Categoría" on_change="1" can_create="True" can_write="True"/>
                <field name="default_code" string="Referencia" invisible="product_variant_count &gt; 1" on_change="1"/>
                <field name="valid_product_template_attribute_line_ids" invisible="1"/>
                <field name="barcode" invisible="product_variant_count &gt; 1                         or (product_variant_count == 0                         and valid_product_template_attribute_line_ids)                         or type in ['service', 'combo']"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="cost_currency_id" invisible="1"/>
                                    <field name="product_variant_id" invisible="1"/>
                                </group>
                <field name="product_properties" columns="2"/>
                            </group>
                            <group name="internal_notes" string="Notas internas">
                                <field colspan="2" name="description" nolabel="1" placeholder="Esta nota es solo para fines internos."/>
                            </group>
                        </page>
                <page string="Ventas" name="sales" invisible="not sale_ok">
                            <group name="sale">
                                <group string="Ventas adicionales y ventas cruzadas" name="upsell" invisible="0">
                <field name="optional_product_ids" widget="many2many_tags" options="{'color_field': 'color'}" domain="[('id', '!=', id), '|', ('company_id', '=', company_id), ('company_id', '=', False)]" context="{'search_product_product': True}" placeholder="Recomendar al &quot;Agregar al carrito&quot; o a la cotización" can_create="True" can_write="True"/></group>
                                <group name="extra_info" string="Información adicional">
                                    <field name="product_tag_ids" widget="many2many_tags" context="{'product_template_id': id}" can_create="True" can_write="True"/>
                                </group>
                            </group>
                            <group>
                                <group string="Descripción de la cotización" name="description">
                                    <field colspan="2" name="description_sale" nolabel="1" placeholder="Esta nota se agrega a las órdenes de ventas y facturas."/>
                                </group>
                <group name="expense_info" string="Gasto" invisible="not visible_expense_policy">
                    <field name="expense_policy" widget="radio"/>
                </group>
                            </group>
                        </page>
                        <page string="Inventario" name="inventory" invisible="type in ['service', 'combo']">
                            <group name="inventory">
                    <field name="has_available_route_ids" invisible="1"/>
                    <group string="Operaciones" name="operations">
                        <label for="route_ids" invisible="type == 'service'"/>
                        <div>
                            <field name="route_ids" class="mb-0" widget="many2many_checkboxes" invisible="not has_available_route_ids or type == 'service'" can_create="True" can_write="True"/>
                            <button id="stock.view_diagram_button" string="Ver diagrama" type="action" name="477" icon="oi-arrow-right" invisible="type != 'consu'" class="btn btn-link pt-0" context="{'default_product_tmpl_id': id}"/>
                        </div>
                        <field name="route_from_categ_ids" widget="many2many_tags" invisible="not route_from_categ_ids"/>
                    </group>
                                <group name="group_lots_and_weight" string="Logística" invisible="type != 'consu'">
                        <field name="responsible_id" domain="[('share', '=', False)]" widget="many2one_avatar_user" can_create="True" can_write="True"/>
                                    <label for="weight" invisible="product_variant_count &gt; 1 and not is_product_variant"/>
                                    <div class="o_row" name="weight" invisible="product_variant_count &gt; 1 and not is_product_variant">
                                        <field name="weight" class="oe_inline"/>
                                        <field name="weight_uom_name"/>
                                    </div>
                                    <label for="volume" invisible="product_variant_count &gt; 1 and not is_product_variant"/>
                                    <div class="o_row" name="volume" invisible="product_variant_count &gt; 1 and not is_product_variant">
                                        <field name="volume" string="Volumen" class="oe_inline"/>
                                        <field name="volume_uom_name"/>
                                    </div>
                    <label for="sale_delay" invisible="not sale_ok"/>
                    <div invisible="not sale_ok">
                        <field name="sale_delay" class="oe_inline" style="vertical-align:baseline"/> días
                    </div>
                                </group>
                    <group string="Ubicaciones contrapartes" name="stock_property">
                        <field name="property_stock_production" can_create="True" can_write="True"/>
                        <field name="property_stock_inventory" can_create="True" can_write="True"/>
                    </group>
                            </group>
                            <group>
                        <group string="Descripción para recepciones">
                            <field name="description_pickingin" nolabel="1" placeholder="Esta nota se agrega a las órdenes de recepción (por ejemplo, dónde guardar el producto dentro del almacén)."/>
                        </group>
                        <group string="Descripción para órdenes de entrega">
                            <field name="description_pickingout" nolabel="1" placeholder="Esta nota se agrega a las órdenes de entrega."/>
                        </group>
                        </group>
                        </page>
                    </notebook>
                </sheet>
                <chatter/>
            <field name="tracking" invisible="True" readonly="True" data-used-by="invisible=&quot;tracking == 'none'&quot; (field,lot_valuated)" on_change="1"/>
</form>